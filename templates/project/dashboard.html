{% extends 'project/index.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}

<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Dashboard</h1>
        <div class="btn-toolbar mb-2 mb-md-0">
          <div class="btn-group me-2">
            <button type="button" class="btn btn-sm btn-outline-secondary">Share</button>
            <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
          </div>
          <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle">
            <span data-feather="calendar" class="align-text-bottom"></span>
            This week
          </button>
        </div>
      </div>

{#      <canvas class="my-4 w-100" id="myChart" width="900" height="280"></canvas>#}
{#        <h4>No. of QI projects per region (CHART)</h4>#}
        <hr>
    <div class="col mt-3" >
        <div class="card " >
          <div class="card-body">
              <div class="container">
                <div class="col">
                    <div class="row ">
                         {{ county_qi_projects|safe }}
                    </div>
                </div>
              </div>
          </div>
        </div>
    </div>
    <div class="col mt-3" >
        <div class="card " >
          <div class="card-body">
              <div class="container">
                <div class="col">
                    <div class="row ">
                         {{ subcounty_qi_projects|safe }}
                    </div>
                </div>
              </div>
          </div>
        </div>
    </div>
    <div class="col mt-3" >
        <div class="card " >
          <div class="card-body">
              <div class="container">
                <div class="col">
                    <div class="row ">
                         {{ department_qi_projects|safe }}
                    </div>
                </div>
              </div>
          </div>
        </div>
    </div>
    <div class="col mt-3" >
        <div class="card " >
          <div class="card-body">
              <div class="container">
                <div class="col">
                    <div class="row ">
                         {{ facility_qi_projects|safe }}

                    </div>
                </div>
              </div>
              <div class="d-flex justify-content-evenly">
                  <a href="{% url 'facilities_landing_page' %}" class="btn btn-primary">Facility projects</a>
                  <a href="{% url 'add_project' %}" class="btn btn-secondary">Add QI PROJECT</a>
              </div>

          </div>
        </div>
    </div>

{#{% for qi_pro in qi_list %}#}
{#    {% for key,df in dicts.items %}#}
{#        {% if qi_pro.id == key %}#}
{#            <div class="d-flex justify-content-evenly" >#}
{#            <h1> {{ qi_pro.id }}</h1>#}
{#            <a href="{% url 'department_filter_project' qi_pro.departments.department  %}" class="btn btn-secondary">{{ qi_pro.departments.department}}</a>#}
{#            </div>#}
{#        {% endif %}#}
{#    {% endfor %}#}
{#{% endfor %}#}



{#        <h4>No. of facilities implementing specific QI initiative (CHART)</h4>#}
{#        <hr>#}
{#        <h4>No. of facilities implementing a specific QI project per region (CHART)</h4>#}
<div class="mt-3">
{#          <form class="row g-3" method="get">#}
{#            <div class="col-md-2">#}
{#                {{ my_filters.form.achievements|as_crispy_field }}#}
{#            </div>#}
{#            <div class="col-md-2">#}
{#    {{ my_filters.form.problem_background|as_crispy_field }}#}
{#    </div>#}
{#            <div class="col-md-2">#}
{#    {{ my_filters.form.facility|as_crispy_field }}#}
{#    </div>#}
{#            <div class="col-md-2">#}
{#    {{ my_filters.form.settings|as_crispy_field }}#}
{#    </div>#}
{#            <div class="col-md-2">#}
{#    {{ my_filters.form.project_title|as_crispy_field }}#}
{#    </div>#}
{#            <div class="col-md-2">#}
{#    {{ my_filters.form.objective|as_crispy_field }}#}
{#    </div>#}
{#            <div class="col-md-2">#}
{#    {{ my_filters.form.start_date|as_crispy_field }}#}
{#    </div>#}
{#            <div class="col-md-2">#}
{#    {{ my_filters.form.end_date|as_crispy_field }}#}
{#    </div>#}
{#            <div class="col-md-2">#}
{#    {{ my_filters.form.measurement_frequency|as_crispy_field }}#}
{#    </div>#}
{#          <div class="col-md-2 mt-4 pt-2">#}
{#            <button class="btn btn-outline-primary" type="submit">search</button>#}
{#        </div>#}
{#        </form>#}
      </div>


        <div class="container mt-4 p-3" style="background-color: #f6f6ff;">
            <div>

            </div>
            <h1 class="d-flex justify-content-evenly">BEST PERFORMING CQI PROJECTS</h1>
            <p class="d-flex justify-content-evenly">These QI Projects are categorized best based on percentage achieved during their last update</p>
            <div class="d-flex justify-content-evenly" >

            {% for department in testedChange_current %}
               <!-- django template show only distinct value -->
{#                {% ifchanged %}<a href="{% url 'department_filter_project' department.project.project_category %}" class="btn btn-success" role="button">{{ department.project.project_category }}</a>{% endifchanged %}#}
                <a href="{% url 'department_filter_project' department %}" class="btn btn-success" role="button">{{ department }}</a>
{#                <a href="#" class="btn btn-success" role="button">{{ department.project.project_category }}</a>#}

            {% endfor %}



{#                {% for k,v in best_performing.items %}#}
{#                    {% if k == "project_id" or k == "project" %}#}
{#                        {% for id in v %}#}
{#                            <a href="{% url 'single_project' v %}" class="btn btn-success" role="button">{{ k }}</a>#}
{#                        {% endfor %}#}
{#                    {% endif %}#}
{#                {% endfor %}#}


{#                <a href="https://getbootstrap.com/docs/5.0/utilities/flex/" class="btn btn-success" role="button">Link Button</a>#}
{#                <a href="https://getbootstrap.com/docs/5.0/utilities/flex/" class="btn btn-success" role="button">Link Button</a>#}
{#                <a href="https://getbootstrap.com/docs/5.0/utilities/flex/" class="btn btn-success" role="button">Link Button</a>#}
{#                <a href="https://getbootstrap.com/docs/5.0/utilities/flex/" class="btn btn-success" role="button">Link Button</a>#}
{#                <a href="https://getbootstrap.com/docs/5.0/utilities/flex/" class="btn btn-success" role="button">Link Button</a>#}
{#                <a href="https://getbootstrap.com/docs/5.0/utilities/flex/" class="btn btn-success" role="button">Link Button</a>#}
{#                <a href="https://getbootstrap.com/docs/5.0/utilities/flex/" class="btn btn-success" role="button">Link Button</a>#}
        </div>
        </div>

{#<div class="mt-auto p-3" style="background-color: #f6f6ff;">#}
{#   <div class="row" >#}
{#            {% for key,values in pro_perfomance_trial.items %}#}
{#                {% if facility_project.id != key %}#}
{#                      <div class="col-sm-6 mt-3" >#}
{#                        <div class="card " >#}
{#                          <div class="card-body">#}
{#                              <div class="container">#}
{#                                <div class="col">#}
{#                                    <div class="row ">#}
{#                                        {{ keys }}#}
{#                                        {{ values|safe }}#}
{#                                    </div>#}
{#                                </div>#}
{#                              </div>#}
{#                            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>#}
{#                            <a href="{% url 'single_project' key %}" class="btn btn-primary">Go to the project</a>#}
{#                          </div>#}
{#                        </div>#}
{#                      </div>#}
{#                {% endif %}#}
{#            {% endfor %}#}
{#        </div>#}
{#        </div>#}

      <h2 class="d-flex justify-content-evenly mt-4">QI MANAGERS WITH BEST QI PROJECTS</h2>
      <div class="table-responsive">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Header</th>
              <th scope="col">Header</th>
              <th scope="col">Header</th>
              <th scope="col">Header</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1,001</td>
              <td>random</td>
              <td>data</td>
              <td>placeholder</td>
              <td>text</td>
            </tr>
            <tr>
              <td>1,002</td>
              <td>placeholder</td>
              <td>irrelevant</td>
              <td>visual</td>
              <td>layout</td>
            </tr>
            <tr>
              <td>1,003</td>
              <td>data</td>
              <td>rich</td>
              <td>dashboard</td>
              <td>tabular</td>
            </tr>
            <tr>
              <td>1,003</td>
              <td>information</td>
              <td>placeholder</td>
              <td>illustrative</td>
              <td>data</td>
            </tr>
            <tr>
              <td>1,004</td>
              <td>text</td>
              <td>random</td>
              <td>layout</td>
              <td>dashboard</td>
            </tr>
            <tr>
              <td>1,005</td>
              <td>dashboard</td>
              <td>irrelevant</td>
              <td>text</td>
              <td>placeholder</td>
            </tr>
            <tr>
              <td>1,006</td>
              <td>dashboard</td>
              <td>illustrative</td>
              <td>rich</td>
              <td>data</td>
            </tr>
            <tr>
              <td>1,007</td>
              <td>placeholder</td>
              <td>tabular</td>
              <td>information</td>
              <td>irrelevant</td>
            </tr>
            <tr>
              <td>1,008</td>
              <td>random</td>
              <td>data</td>
              <td>placeholder</td>
              <td>text</td>
            </tr>
            <tr>
              <td>1,009</td>
              <td>placeholder</td>
              <td>irrelevant</td>
              <td>visual</td>
              <td>layout</td>
            </tr>
            <tr>
              <td>1,010</td>
              <td>data</td>
              <td>rich</td>
              <td>dashboard</td>
              <td>tabular</td>
            </tr>
            <tr>
              <td>1,011</td>
              <td>information</td>
              <td>placeholder</td>
              <td>illustrative</td>
              <td>data</td>
            </tr>
            <tr>
              <td>1,012</td>
              <td>text</td>
              <td>placeholder</td>
              <td>layout</td>
              <td>dashboard</td>
            </tr>
            <tr>
              <td>1,013</td>
              <td>dashboard</td>
              <td>irrelevant</td>
              <td>text</td>
              <td>visual</td>
            </tr>
            <tr>
              <td>1,014</td>
              <td>dashboard</td>
              <td>illustrative</td>
              <td>rich</td>
              <td>data</td>
            </tr>
            <tr>
              <td>1,015</td>
              <td>random</td>
              <td>tabular</td>
              <td>information</td>
              <td>text</td>
            </tr>
          </tbody>
        </table>
      </div>
    </main>
{% endblock %}